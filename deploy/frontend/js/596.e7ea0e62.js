"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[596],{7596:function(a,s,t){t.r(s),t.d(s,{default:function(){return A}});var e=t(5830),l=t(5302),d=t(5982),n=t(3489),o=t(2703),c=t(7786);const i={class:"admin-dashboard"},u={class:"dashboard-content"},r={class:"stat-item"},k={class:"stat-icon"},v={class:"stat-content"},f={class:"stat-value"},L={class:"stat-item"},h={class:"stat-icon"},b={class:"stat-content"},_={class:"stat-value"},p={class:"stat-item"},F={class:"stat-icon"},g={class:"stat-content"},m={class:"stat-value"},C={class:"stat-item"},w={class:"stat-icon"},y={class:"stat-content"},B={class:"stat-value"},R={class:"system-info"},M={class:"info-item"},S={class:"info-value"};var z={__name:"DashboardPage",setup(a){const s=(0,l.KR)({userCount:0,fileCount:0,usedStorage:0,shareCount:0}),t=(0,l.KR)(""),z=a=>{if(0===a)return"0 Bytes";const s=1024,t=["Bytes","KB","MB","GB","TB"],e=Math.floor(Math.log(a)/Math.log(s));return parseFloat((a/Math.pow(s,e)).toFixed(2))+" "+t[e]},K=async()=>{try{const a=await c.A.get("/admin/stats");s.value={userCount:a.data.userCount||0,fileCount:a.data.fileCount||0,usedStorage:a.data.usedStorage||0,shareCount:a.data.shareCount||0},t.value=a.data.uptime||""}catch(a){o.nk.error("加载仪表盘数据失败: "+(a.response?.data?.message||a.message))}};return(0,e.sV)(()=>{K()}),(a,o)=>{const c=(0,e.g2)("el-icon"),K=(0,e.g2)("el-card"),x=(0,e.g2)("el-col"),A=(0,e.g2)("el-row");return(0,e.uX)(),(0,e.CE)("div",i,[(0,e.bF)(K,{class:"dashboard-card"},{header:(0,e.k6)(()=>[...o[0]||(o[0]=[(0,e.Lk)("div",{class:"card-header"},[(0,e.Lk)("span",null,"管理员仪表盘")],-1)])]),default:(0,e.k6)(()=>[(0,e.Lk)("div",u,[(0,e.bF)(A,{gutter:20},{default:(0,e.k6)(()=>[(0,e.bF)(x,{span:6},{default:(0,e.k6)(()=>[(0,e.bF)(K,{shadow:"hover",class:"stat-card"},{default:(0,e.k6)(()=>[(0,e.Lk)("div",r,[(0,e.Lk)("div",k,[(0,e.bF)(c,{size:"24"},{default:(0,e.k6)(()=>[(0,e.bF)((0,l.R1)(n.User))]),_:1})]),(0,e.Lk)("div",v,[o[1]||(o[1]=(0,e.Lk)("div",{class:"stat-title"},"用户总数",-1)),(0,e.Lk)("div",f,(0,d.v_)(s.value.userCount),1)])])]),_:1})]),_:1}),(0,e.bF)(x,{span:6},{default:(0,e.k6)(()=>[(0,e.bF)(K,{shadow:"hover",class:"stat-card"},{default:(0,e.k6)(()=>[(0,e.Lk)("div",L,[(0,e.Lk)("div",h,[(0,e.bF)(c,{size:"24"},{default:(0,e.k6)(()=>[(0,e.bF)((0,l.R1)(n.Folder))]),_:1})]),(0,e.Lk)("div",b,[o[2]||(o[2]=(0,e.Lk)("div",{class:"stat-title"},"文件总数",-1)),(0,e.Lk)("div",_,(0,d.v_)(s.value.fileCount),1)])])]),_:1})]),_:1}),(0,e.bF)(x,{span:6},{default:(0,e.k6)(()=>[(0,e.bF)(K,{shadow:"hover",class:"stat-card"},{default:(0,e.k6)(()=>[(0,e.Lk)("div",p,[(0,e.Lk)("div",F,[(0,e.bF)(c,{size:"24"},{default:(0,e.k6)(()=>[(0,e.bF)((0,l.R1)(n.Document))]),_:1})]),(0,e.Lk)("div",g,[o[3]||(o[3]=(0,e.Lk)("div",{class:"stat-title"},"存储使用",-1)),(0,e.Lk)("div",m,(0,d.v_)(z(s.value.usedStorage)),1)])])]),_:1})]),_:1}),(0,e.bF)(x,{span:6},{default:(0,e.k6)(()=>[(0,e.bF)(K,{shadow:"hover",class:"stat-card"},{default:(0,e.k6)(()=>[(0,e.Lk)("div",C,[(0,e.Lk)("div",w,[(0,e.bF)(c,{size:"24"},{default:(0,e.k6)(()=>[(0,e.bF)((0,l.R1)(n.Share))]),_:1})]),(0,e.Lk)("div",y,[o[4]||(o[4]=(0,e.Lk)("div",{class:"stat-title"},"分享链接",-1)),(0,e.Lk)("div",B,(0,d.v_)(s.value.shareCount),1)])])]),_:1})]),_:1})]),_:1}),(0,e.bF)(A,{gutter:20,style:{"margin-top":"20px"}},{default:(0,e.k6)(()=>[(0,e.bF)(x,{span:24},{default:(0,e.k6)(()=>[(0,e.bF)(K,{shadow:"hover"},{header:(0,e.k6)(()=>[...o[5]||(o[5]=[(0,e.Lk)("div",{class:"card-header"},[(0,e.Lk)("span",null,"系统信息")],-1)])]),default:(0,e.k6)(()=>[(0,e.Lk)("div",R,[o[7]||(o[7]=(0,e.Lk)("div",{class:"info-item"},[(0,e.Lk)("span",{class:"info-label"},"系统版本："),(0,e.Lk)("span",{class:"info-value"},"LeafPan v1.0.0")],-1)),(0,e.Lk)("div",M,[o[6]||(o[6]=(0,e.Lk)("span",{class:"info-label"},"运行时间：",-1)),(0,e.Lk)("span",S,(0,d.v_)(t.value),1)]),o[8]||(o[8]=(0,e.Lk)("div",{class:"info-item"},[(0,e.Lk)("span",{class:"info-label"},"存储状态："),(0,e.Lk)("span",{class:"info-value"},"正常")],-1))])]),_:1})]),_:1})]),_:1})])]),_:1})])}}},K=t(3007);const x=(0,K.A)(z,[["__scopeId","data-v-72d787d8"]]);var A=x}}]);